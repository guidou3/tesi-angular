<svg viewBox="0 0 1000 70" (click)="enlarge()" class="alignment-view">
  <svg>
    <path d="M 2 0 l 25 25 l -25 25 z"  fill="black"/>
    <path d="M 6 10 l 15 15 l -15 15 z"  fill="white"/>
  </svg>
  <svg *ngFor="let obj of visible_segments">
    <path [attr.d]="obj.d"  [attr.fill]="obj.color"/>
    <text *ngIf="obj.label.length === 1" [attr.x]="obj.start" y="27.5" font-family="Arial" font-size="8" text-overflow="ellipsis" fill="black" >{{obj.label[0]}}</text>
    <text *ngIf="obj.label.length === 2" [attr.x]="obj.start-5" y="21.25" font-family="Arial" font-size="8" text-overflow="ellipsis" fill="black" >
      <tspan [attr.x]="obj.start-5" dy="0">{{obj.label[0]}}</tspan>
      <tspan [attr.x]="obj.start-5" dy="12.5">{{obj.label[1]}}</tspan>
    </text>
    <text *ngIf="obj.label.length >= 3" [attr.x]="obj.start-7" y="17.5" font-family="Arial" font-size="8" text-overflow="ellipsis" fill="black" >
      <tspan [attr.x]="obj.start-7" dy="0">{{obj.label[0]}}</tspan>
      <tspan [attr.x]="obj.start" dy="10">{{obj.label[1]}}</tspan>
      <tspan [attr.x]="obj.start-7" dy="10">{{obj.label[2]}}</tspan>
    </text>
    <text *ngIf="obj.missingVariables && obj.type != 'model_only'" [attr.x]="obj.start-25" y="60" font-family="Arial" font-size="8" text-overflow="ellipsis" fill="black" >{{obj.missingVariables[0]._1}}</text>
    <text *ngIf="obj.incorrectVariables && obj.type != 'model_only'" [attr.x]="obj.start-25" y="60" font-family="Arial" font-size="8" text-overflow="ellipsis" fill="black" >{{obj.incorrectVariables[0].variable}}</text>
  </svg>
  <svg *ngFor="let obj of constraints">
    <rect width="65" height="23" [attr.fill]="obj.color" [attr.x]="start +10 + obj.x" [attr.y]="obj.y" rx="5" ry="5"/>
    <text [attr.x]="start +10 + obj.x +5" [attr.y]="obj.y+13" font-family="Arial" font-size="8"  fill="black" >{{obj.type}}</text>
  </svg>
</svg>
<div *ngIf="focus" fxLayout="row">
  <p>{{this.data.fitness}}</p>
  <ag-grid-angular
    fxFlex="60"
    domLayout='autoHeight'
    class="ag-theme-balham"
    [rowData]="tableItems"
    [columnDefs]="columnDefs"
    (firstDataRendered)="onFirstDataRendered($event)">
  </ag-grid-angular>
  <div fxLayout="column">
    <mat-list *ngIf="missingVariables.size > 0">
      <h5>Missing variables</h5>
      <mat-list-item *ngFor="let variable of missingVariables">
        <label>{{variable}}</label>
      </mat-list-item>
    </mat-list>
    <mat-list *ngIf="incorrectVariables.size > 0">
      <h5>Incorrect variables</h5>
      <mat-list-item *ngFor="let variable of incorrectVariables">
        <p>{{variable}}</p>
      </mat-list-item>
    </mat-list>
  </div>
</div>